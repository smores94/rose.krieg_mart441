<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chronosphere</title>
    <style>
    
        /* Fullscreen intro animation */
        #intro-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: rgb(12, 3, 52);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease-out;
            z-index: 9999;
        }
        
        #intro-animation img {
            width: 500px;
            max-width: 80vw;
            opacity: 1;
            animation: zoomFade 15s ease-in-out forwards;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Zoom & fade animation */
        @keyframes zoomFade {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }

        }

        /* Main content styles */
        h1 {
            text-align: center;
            font-family: 'Cinzel', serif;
            font-size: 4em;
            color: #7cb3e7;
            text-shadow: 5px 5px 7px rgba(0, 0, 0, 0.6), -5px -5px 7px rgba(0, 0, 0, 0.6);
            margin-top: 50px;
            letter-spacing: 5px;
            text-transform: uppercase;
        }

        body {
            font-family: 'Times New Roman', serif;
            background-image: url('./imgs/alchemistlab.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
        }


        #story {
            font-size: 1.2em;
            margin: 20px auto;
            width: 60%;
            padding: 20px;
            background-color: #3b3b3b;
            border: 2px solid #d4af37;
            border-radius: 10px;
        }

        .choice-btn {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #55a7ef;
            border: none;
            cursor: pointer;
        }

        .choice-btn:hover {
            background-color: #b08e2d;
        }

        img {
            width: 300px;
            height: auto;
            margin-top: 20px;
        }
    </style>
</head>

<body>
   <audio controls autoplay>
        <source src="In the House of the Inventor.ogg" type="audio/ogg">
        <source src="In the House of the Inventor.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <!-- Intro Animation -->
    <div id="intro-animation">
        <img id="zoom-image" src="./imgs/chronosphere_opening.jpg" alt="Intro Image">
    </div>

    <h1>Chronosphere</h1>
    <div id="story"> 
        <p>You awaken in a dimly lit workshop, gears whirring around you. On the desk, an ancient alchemical tome and a brass time device hum with energy.</p>
        <button class="choice-btn" onclick="choose('book')">Read the Alchemical Tome</button>
        <button class="choice-btn" onclick="choose('device')">Activate the Time Device</button>
    </div>

    <script>

document.addEventListener("DOMContentLoaded", () => {
    let introAnimation = document.getElementById("intro-animation");
    let zoomImage = document.getElementById("zoom-image");

    if (introAnimation && zoomImage) {
        zoomImage.addEventListener("animationend", () => {
            console.log("Animation ended, hiding intro screen..."); // Debugging log

            introAnimation.style.transition = "opacity 1s ease-out";
            introAnimation.style.opacity = "0";

            setTimeout(() => {
                console.log("Setting display to none...");
                introAnimation.style.display = "none";
                introAnimation.remove(); // Removes it from the DOM
            }, 1000); // Matches fade-out timing
        });
    }
});





        // Interactive Story Function
        function choose(option) {
            const storyDiv = document.getElementById('story');
            let content = "";

            switch (option) {
                case 'book':
                    content = `<p>As you open the tome, glowing symbols appear. A potion recipe catches your eye. Will you brew it or seek a different path?</p>
                               <button class="choice-btn" onclick="choose('brew')">Brew the Potion</button>
                               <button class="choice-btn" onclick="choose('explore')">Explore the Workshop</button>
                               <img src="./imgs/corpushermetic.png" alt="Alchemy book">`;
                    break;

                case 'device':
                    content = `<p>You activate the time device! A vortex opens, offering two choices: Victorian London or a futuristic steampunk city.</p>
                               <button class="choice-btn" onclick="choose('victorian')">Travel to Victorian London</button>
                               <button class="choice-btn" onclick="choose('steampunk')">Enter the Steampunk Metropolis</button>
                               <img src="./imgs/antikythera.png" alt="time device">`;
                    break;

                case 'brew':
                    content = `<p>You brew a shimmering elixir. Drinking it, you gain the ability to see into the future! What will you do with this power?</p>
                               <img src="./imgs/potion.png" alt="Magic potion">
                               <button class="choice-btn" onclick="choose('predict')">Use your vision to predict events</button>
                               <button class="choice-btn" onclick="choose('alter')">Attempt to alter fate</button>`;
                    break;

                case 'explore':
                    content = `<p>Exploring the workshop, you discover a hidden compartment with blueprints for an airship. Adventure awaits!</p>
                               <img src="./imgs/airship.jpg" alt="Steampunk airship">
                               <button class="choice-btn" onclick="choose('build')">Build the airship</button>
                               <button class="choice-btn" onclick="choose('sell')">Sell the blueprints for gold</button>`;
                    break;

                case 'victorian':
                    content = `<p>You arrive in Victorian London, where secret societies seek alchemical knowledge. Will you join them or oppose them?</p>
                               <img src="./imgs/victlondstmpnk.jpg" alt="Victorian London">
                               <button class="choice-btn" onclick="choose('join')">Join the secret society</button>
                               <button class="choice-btn" onclick="choose('oppose')">Oppose them and uncover their secrets</button>`;
                    break;

                case 'steampunk':
                    content = `<p>The metropolis is alive with steam-powered automatons and airships. A masked figure offers you a mission. Do you accept?</p>
                               <img src="./imgs/maskedman.jpg" alt="Steampunk city">
                               <button class="choice-btn" onclick="choose('accept')">Accept the mission</button>
                               <button class="choice-btn" onclick="choose('decline')">Decline and explore the city</button>`;
                    break;

                case 'predict':
                    content = `<p>You predict the future, becoming wealthy beyond all your dreams. You are famous, loved, but always a feeling of fear surrounds you.</p>
                               <img src="./imgs/family.png" alt="Family">`;
                    break;  

                case 'alter':
                    content = `<p>Your Great-Grandparents were immigrants to Quebec, and always talked about the glory of France. You decide to try and stop the French Revolution. But oh no...Without the revolution, King Louis XVI, Marie Antoinette,their descendants and the French Monarchy continue to the present day. The French Monarchy helped England instead of the fledging United States. The Louisiana Purchase never happened. Your Great-grandparents never immigrated. You see your hand fading in front of you.....as you cease to exist.</p>
                               <img src="./imgs/fadinghands.png" alt="hands in workshop">`;
                    break;          
                    case 'build':
                    content = `<p>You build the airship and sell it, on the day of it's maiden flight, you stand proudly on the deck of the ship, looking down at the city. All of sudden you hear an explosion. You look around. Part of the ship is missing and the part you are standing on is in flames. You are in shock, as more explosions rip through the air. You make your peace.</p>
                               <img src="./imgs/airshipflames.jpg" alt="airship in flames">`;
                    break;  

                    case 'sell':
                    content = `<p>You look at the blueprints. For as old as they are, you can see the ship that could be made will be more advanced than anything you have ever seen. You decide to sell them. As you reach for your pile of gold, you feel a pain in your back. The buyer looks at you says "It's not personal mate. But I'm not going to risk competition." He smiles. Everything begins to fade.</p>
                               <img src="./imgs/gold.jpg" alt="gold">`;
                    break;  

        
                    case 'join':
    content = `<p>The Invitation
London, 1887. The air is thick with soot and secrecy, the gas lamps flickering in defiance of the smog. You tread carefully through the damp alleyways, your boots echoing against cobblestone streets slick with evening mist. The letter in your coat pocket is sealed with black wax, stamped with an insignia you do not recognize—a serpent entwined with a dagger. It had arrived without explanation, slipped under your door as if by ghostly hands.

You reach the unmarked door as instructed. A single knock. A pause. Then, it creaks open just enough to reveal the glint of watchful eyes. No words are spoken. You step inside.

The room beyond is dimly lit by candelabras dripping wax like blood. Hooded figures stand in a circle, their faces obscured, their eyes burning through the shadows. The scent of old books, ink, and something metallic—like rust or dried blood—lingers in the air.

A man steps forward. His voice is velvet over steel.

"You stand at the threshold of something far greater than yourself. The world outside is blind, shackled by ignorance. But we... we see beyond the veil. We unearth truths long buried. We shape the fate of nations from the darkness in which we dwell."

He gestures to a table draped in crimson cloth. Upon it, a quill and a ledger, its pages aged and yellowed. Names fill its lines—some crossed out, others stained, perhaps with ink… or something else.

"One mark, and you are bound to us. No king, no parliament, no god shall own you. Only the pursuit of power, knowledge, and the unseen forces that weave the fabric of this world. But beware—once the ink dries, there is no turning back."

The candlelight wavers. The air grows heavy. Behind you, the door has closed.</p>
    <img src="./imgs/letter.jpg" alt="letter">
    <button class="choice-btn" onclick="choose('Yes')">Lift the veil</button>
    <button class="choice-btn" onclick="choose('No')">You change your mind. You turn to walk away...you hear footsteps getting closer behind you.>`;
    break;


        // Restart Function
        function restart() {
            document.getElementById('story').innerHTML = `
                <p>You find yourself in a dimly lit chamber, ancient texts and strange devices surrounding you. What do you do?</p>
                <button class="choice-btn" onclick="choose('book')">Examine the Ancient Tome</button>
                <button class="choice-btn" onclick="choose('device')">Activate the Time Device</button>
            `;
        }
    </script>
</body>
</html>